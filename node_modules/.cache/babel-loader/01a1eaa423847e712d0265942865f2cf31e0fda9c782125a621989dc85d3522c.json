{"ast":null,"code":"import axios from\"axios\";import{FIND_PRODUCTS_BY_CATEGORY_REQUEST,FIND_PRODUCTS_BY_CATEGORY_SUCCESS,FIND_PRODUCTS_BY_CATEGORY_FAILURE,FIND_PRODUCT_BY_ID_REQUEST,FIND_PRODUCT_BY_ID_SUCCESS,FIND_PRODUCT_BY_ID_FAILURE,CREATE_PRODUCT_REQUEST,CREATE_PRODUCT_SUCCESS,CREATE_PRODUCT_FAILURE,UPDATE_PRODUCT_REQUEST,UPDATE_PRODUCT_SUCCESS,UPDATE_PRODUCT_FAILURE,DELETE_PRODUCT_REQUEST,DELETE_PRODUCT_SUCCESS,DELETE_PRODUCT_FAILURE,SEARCH_PRODUCT_REQUEST,SEARCH_PRODUCT_SUCCESS,SEARCH_PRODUCT_FAILURE}from\"./ActionType\";import api,{API_BASE_URL}from\"../../../config/api\";export const findProducts=reqData=>async dispatch=>{const{colors,sizes,minPrice,maxPrice,minDiscount,category,stock,sort,pageNumber,pageSize}=reqData;try{dispatch({type:FIND_PRODUCTS_BY_CATEGORY_REQUEST});const{data}=await api.get(\"/api/products?color=\".concat(colors,\"&size=\").concat(sizes,\"&minPrice=\").concat(minPrice,\"&maxPrice=\").concat(maxPrice,\"&minDiscount=\").concat(minDiscount,\"&category=\").concat(category,\"&stock=\").concat(stock,\"&sort=\").concat(sort,\"&pageNumber=\").concat(pageNumber,\"&pageSize=\").concat(pageSize));console.log(\"get product by category - \",data);dispatch({type:FIND_PRODUCTS_BY_CATEGORY_SUCCESS,payload:data});}catch(error){dispatch({type:FIND_PRODUCTS_BY_CATEGORY_FAILURE,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const findProductById=reqData=>async dispatch=>{try{dispatch({type:FIND_PRODUCT_BY_ID_REQUEST});const{data}=await api.get(\"/api/products/id/\".concat(reqData.productId));console.log(\"products by  id : \",data);dispatch({type:FIND_PRODUCT_BY_ID_SUCCESS,payload:data});}catch(error){dispatch({type:FIND_PRODUCT_BY_ID_FAILURE,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const searchProduct=keyword=>async dispatch=>{try{dispatch({type:SEARCH_PRODUCT_REQUEST});const{data}=await api.get(\"/api/products/search\",{params:{q:keyword}});console.log(\"products by  id : \",data);dispatch({type:SEARCH_PRODUCT_SUCCESS,payload:data});}catch(error){dispatch({type:SEARCH_PRODUCT_FAILURE,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const createProduct=product=>async dispatch=>{try{dispatch({type:CREATE_PRODUCT_REQUEST});const{data}=await api.post(\"\".concat(API_BASE_URL,\"/api/admin/products/\"),product.data);dispatch({type:CREATE_PRODUCT_SUCCESS,payload:data});console.log(\"created product \",data);}catch(error){dispatch({type:CREATE_PRODUCT_FAILURE,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const updateProduct=product=>async dispatch=>{try{dispatch({type:UPDATE_PRODUCT_REQUEST});const{data}=await api.put(\"\".concat(API_BASE_URL,\"/api/admin/products/\").concat(product.productId),product);dispatch({type:UPDATE_PRODUCT_SUCCESS,payload:data});}catch(error){dispatch({type:UPDATE_PRODUCT_FAILURE,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const deleteProduct=productId=>async dispatch=>{console.log(\"delete product action\",productId);try{dispatch({type:DELETE_PRODUCT_REQUEST});let{data}=await api.delete(\"/api/admin/products/\".concat(productId,\"/delete\"));dispatch({type:DELETE_PRODUCT_SUCCESS,payload:data});console.log(\"product delte \",data);}catch(error){console.log(\"catch error \",error);dispatch({type:DELETE_PRODUCT_FAILURE,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};","map":{"version":3,"names":["axios","FIND_PRODUCTS_BY_CATEGORY_REQUEST","FIND_PRODUCTS_BY_CATEGORY_SUCCESS","FIND_PRODUCTS_BY_CATEGORY_FAILURE","FIND_PRODUCT_BY_ID_REQUEST","FIND_PRODUCT_BY_ID_SUCCESS","FIND_PRODUCT_BY_ID_FAILURE","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAILURE","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_FAILURE","DELETE_PRODUCT_REQUEST","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAILURE","SEARCH_PRODUCT_REQUEST","SEARCH_PRODUCT_SUCCESS","SEARCH_PRODUCT_FAILURE","api","API_BASE_URL","findProducts","reqData","dispatch","colors","sizes","minPrice","maxPrice","minDiscount","category","stock","sort","pageNumber","pageSize","type","data","get","concat","console","log","payload","error","response","message","findProductById","productId","searchProduct","keyword","params","q","createProduct","product","post","updateProduct","put","deleteProduct","delete"],"sources":["D:/Practice Project/commercehub/src/Redux/Customers/Product/Action.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nimport {\r\n  FIND_PRODUCTS_BY_CATEGORY_REQUEST,\r\n  FIND_PRODUCTS_BY_CATEGORY_SUCCESS,\r\n  FIND_PRODUCTS_BY_CATEGORY_FAILURE,\r\n  FIND_PRODUCT_BY_ID_REQUEST,\r\n  FIND_PRODUCT_BY_ID_SUCCESS,\r\n  FIND_PRODUCT_BY_ID_FAILURE,\r\n  CREATE_PRODUCT_REQUEST,\r\n  CREATE_PRODUCT_SUCCESS,\r\n  CREATE_PRODUCT_FAILURE,\r\n  UPDATE_PRODUCT_REQUEST,\r\n  UPDATE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_FAILURE,\r\n  DELETE_PRODUCT_REQUEST,\r\n  DELETE_PRODUCT_SUCCESS,\r\n  DELETE_PRODUCT_FAILURE,\r\n  SEARCH_PRODUCT_REQUEST,\r\n  SEARCH_PRODUCT_SUCCESS,\r\n  SEARCH_PRODUCT_FAILURE,\r\n} from \"./ActionType\";\r\nimport api, { API_BASE_URL } from \"../../../config/api\";\r\n\r\nexport const findProducts = (reqData) => async (dispatch) => {\r\n  const {\r\n    colors,\r\n    sizes,\r\n    minPrice,\r\n    maxPrice,\r\n    minDiscount,\r\n    category,\r\n    stock,\r\n    sort,\r\n    pageNumber,\r\n    pageSize,\r\n  } = reqData;\r\n\r\n  try {\r\n    dispatch({ type: FIND_PRODUCTS_BY_CATEGORY_REQUEST });\r\n\r\n    const { data } = await api.get(\r\n      `/api/products?color=${colors}&size=${sizes}&minPrice=${minPrice}&maxPrice=${maxPrice}&minDiscount=${minDiscount}&category=${category}&stock=${stock}&sort=${sort}&pageNumber=${pageNumber}&pageSize=${pageSize}`\r\n    );\r\n\r\n    console.log(\"get product by category - \", data);\r\n    dispatch({\r\n      type: FIND_PRODUCTS_BY_CATEGORY_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: FIND_PRODUCTS_BY_CATEGORY_FAILURE,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const findProductById = (reqData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: FIND_PRODUCT_BY_ID_REQUEST });\r\n\r\n    const { data } = await api.get(`/api/products/id/${reqData.productId}`);\r\n\r\n    console.log(\"products by  id : \", data);\r\n    dispatch({\r\n      type: FIND_PRODUCT_BY_ID_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: FIND_PRODUCT_BY_ID_FAILURE,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const searchProduct = (keyword) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SEARCH_PRODUCT_REQUEST });\r\n\r\n    const { data } = await api.get(`/api/products/search`,{\r\n      params:{\r\n        q:keyword\r\n      }\r\n    });\r\n\r\n    console.log(\"products by  id : \", data);\r\n    dispatch({\r\n      type: SEARCH_PRODUCT_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: SEARCH_PRODUCT_FAILURE,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = (product) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: CREATE_PRODUCT_REQUEST });\r\n\r\n    const { data } = await api.post(\r\n      `${API_BASE_URL}/api/admin/products/`,\r\n      product.data\r\n    );\r\n\r\n    dispatch({\r\n      type: CREATE_PRODUCT_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    console.log(\"created product \", data);\r\n  } catch (error) {\r\n    dispatch({\r\n      type: CREATE_PRODUCT_FAILURE,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PRODUCT_REQUEST });\r\n\r\n    const { data } = await api.put(\r\n      `${API_BASE_URL}/api/admin/products/${product.productId}`,\r\n      product\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_FAILURE,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (productId) => async (dispatch) => {\r\n  console.log(\"delete product action\",productId)\r\n  try {\r\n    dispatch({ type: DELETE_PRODUCT_REQUEST });\r\n\r\n    let {data}=await api.delete(`/api/admin/products/${productId}/delete`);\r\n\r\n    dispatch({\r\n      type: DELETE_PRODUCT_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    console.log(\"product delte \",data)\r\n  } catch (error) {\r\n    console.log(\"catch error \",error)\r\n    dispatch({\r\n      type: DELETE_PRODUCT_FAILURE,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}